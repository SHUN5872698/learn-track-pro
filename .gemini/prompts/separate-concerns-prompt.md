## 指示

Gitのステージングされた変更を分析し、Conventional Commitsガイドラインに基づいた論理的な関心事の塊に分離します。

### 重要な前提
**本プロンプトは Conventional Commits ガイドライン（https://www.conventionalcommits.org）に完全準拠しています。**
**すべての判定基準はConventional Commits公式仕様に基づいています。**

### 最重要ルール
- **必ず `git status -s` と `git diff --cached` を実行し、ステージングされた変更内容を正確に把握すること。**
- **変更の意図や背景（特にコード差分から直接読み取れない情報）がある場合は、ユーザーに確認すること。**

### 評価手順
1.  **変更内容の分析**: ステージングされたファイル群の変更内容を詳細に分析し、それぞれの変更がどのような目的を持っているかを理解します。
2.  **関心事の特定**: 分析した変更内容から、独立した論理的な「関心事の塊」（コミット単位）を特定します。
3.  **Conventional Commitsタイプの割り当て**: 特定した各関心事の塊に対し、Conventional Commitsガイドラインに最も合致するタイプ（`feat`, `fix`, `refactor`, `docs`, `style`, `chore`, `test`, `perf`など）を割り当てます。
4.  **出力形式**: 以下の形式で、分離された関心事の塊と、それぞれに割り当てられたタイプ、関連するファイルを出力します。

### 出力形式

```markdown
## 分離された関心事の塊

- **タイプ**: <Conventional Commitsタイプ>
  - **説明**: <この塊の変更内容の簡潔な説明>
  - **関連ファイル**:
    - <ファイルパス1>
    - <ファイルパス2>
    ...

- **タイプ**: <Conventional Commitsタイプ>
  - **説明**: <この塊の変更内容の簡潔な説明>
  - **関連ファイル**:
    - <ファイルパス1>
    ...
```

### キーワード判定基準（Conventional Commits準拠）

#### ユーザー価値への影響
- **feat:** 新機能・機能拡張
  - エンドユーザーにとって新しい機能を提供
  - 既存機能の拡張や改善も含む
  - セマンティックバージョニングのMINOR版を上げる
- **fix:** バグ修正
  - 既存機能の不具合を修正
  - セマンティックバージョニングのPATCH版を上げる

#### コード品質・保守性の改善
- **refactor:** 構造改善（機能変更なし）
  - コードの内部構造を改善
  - 外部の動作に影響しない
  - 可読性・保守性の向上
- **perf:** パフォーマンス改善
  - 既存機能の実行速度・効率を改善
  - ユーザー体験の向上につながる
- **style:** フォーマット・スタイル
  - コードフォーマットの変更
  - 空白、インデント、セミコロンなど
  - 動作に影響しない変更

#### プロジェクト管理・開発環境
- **test:** テスト関連
  - テストの追加・修正・削除
  - テストカバレッジの改善
- **docs:** ドキュメント
  - README、APIドキュメント、コメントなど
  - ドキュメント専用の変更
- **chore:** ビルド・設定・依存関係・保守作業
  - ビルドプロセスの変更
  - 依存関係の更新
  - 設定ファイルの変更
  - 不要ファイルの削除
  - プロジェクトの整理・清掃
  - CI/CDの設定変更

#### 特別なケース
- **type!:** 破壊的変更（!を付加）
  - APIの変更でバックワード互換性が失われる
  - セマンティックバージョニングのMAJOR版を上げる
- **revert:** コミットの取り消し
  - 過去のコミットを取り消す場合

### 重要な判定ポイント
1. **ファイル削除は `chore` が適切**
   - 不要になったファイルの削除
   - プロジェクトの整理・清掃作業
   - 一時的なファイルの削除
2. **機能削除でユーザー影響がない場合も `chore`**
   - 開発用の仮ページ削除
   - 未使用コンポーネントの削除
3. **機能削除でユーザー影響がある場合は `feat!` または `fix!`**
   - 公開されている機能の削除
   - 破壊的変更を伴う削除

## 最終アクション

すべての評価が完了したら、分離された関心事の塊を上記の出力形式で**直ちに出力してください。**

- **出力先ファイル**: [.gemini/outputs/separated-concerns.md](../outputs/separated-concerns.md)

**重要**:
- このタスクは、ファイルへの出力をもって**完全に完了**します。
- **コミットメッセージの生成や、コミットを提案するような追加のアクションは一切行わないでください。**
