## 指示

提供された論理的な関心事の塊に基づき、Conventional Commits仕様に準拠したコミットメッセージを生成します。

## 添削の際の方針と注意点

### 重要な前提
**本プロンプトは Conventional Commits ガイドライン（https://www.conventionalcommits.org）に完全準拠しています。**
**すべての判定基準はConventional Commits公式仕様に基づいています。**

### 最重要ルール
- **必ず、提供された「関心事の塊」のタイプと説明、関連ファイルを基にコミットメッセージを生成すること。**
- **`git log` で直近のコミットメッセージを確認し、そのプロジェクトのスタイル（フォーマット、粒度、言語など）を完全に模倣すること。**
- Conventional Commitsの規約とプロジェクトのスタイルが異なる場合は、**プロジェクトのスタイルを優先する。**

### 評価手順
1.  **キーワード（prefix）の妥当性評価**: 提供された関心事の塊ごとに、キーワードがConventional Commitsガイドラインに適合しているか判定する。
    -   不適切な場合は、推奨するキーワードとその理由を説明する。
2.  **適切なコミットメッセージの提案**: 提供された関心事の塊ごとに、タイトルと必要に応じたbodyを含む完全なメッセージを提案する。

### 記述ルール
- コミットメッセージは**キーワード以外は日本語**で記述
- **敬語は使用せず**、簡潔で明確な表現を使用
- **Conventional Commits**に準拠した形式を基本とする
- 内容が明確で、**変更の意図が正しく伝わること**を重視
- 詳細な実装内容を追記する場合は**箇条書きでシンプル**に記述

## キーワード判定基準（Conventional Commits準拠）

### ユーザー価値への影響
- **feat:** 新機能・機能拡張
  - エンドユーザーにとって新しい機能を提供
  - 既存機能の拡張や改善も含む
  - セマンティックバージョニングのMINOR版を上げる
- **fix:** バグ修正
  - 既存機能の不具合を修正
  - セマンティックバージョニングのPATCH版を上げる

### コード品質・保守性の改善
- **refactor:** 構造改善（機能変更なし）
  - コードの内部構造を改善
  - 外部の動作に影響しない
  - 可読性・保守性の向上
- **perf:** パフォーマンス改善
  - 既存機能の実行速度・効率を改善
  - ユーザー体験の向上につながる
- **style:** フォーマット・スタイル
  - コードフォーマットの変更
  - 空白、インデント、セミコロンなど
  - 動作に影響しない変更

### プロジェクト管理・開発環境
- **test:** テスト関連
  - テストの追加・修正・削除
  - テストカバレッジの改善
- **docs:** ドキュメント
  - README、APIドキュメント、コメントなど
  - ドキュメント専用の変更
- **chore:** ビルド・設定・依存関係・保守作業
  - ビルドプロセスの変更
  - 依存関係の更新
  - 設定ファイルの変更
  - 不要ファイルの削除
  - プロジェクトの整理・清掃
  - CI/CDの設定変更

### 特別なケース
- **type!:** 破壊的変更（!を付加）
  - APIの変更でバックワード互換性が失われる
  - セマンティックバージョニングのMAJOR版を上げる
- **revert:** コミットの取り消し
  - 過去のコミットを取り消す場合

### 重要な判定ポイント
1. **ファイル削除は `chore` が適切**
   - 不要になったファイルの削除
   - プロジェクトの整理・清掃作業
   - 一時的なファイルの削除
2. **機能削除でユーザー影響がない場合も `chore`**
   - 開発用の仮ページ削除
   - 未使用コンポーネントの削除
3. **機能削除でユーザー影響がある場合は `feat!` または `fix!`**
   - 公開されている機能の削除
   - 破壊的変更を伴う削除

## AIへの指示補足

### 添削時の参考パターン
以下のパターンを参考に、Conventional Commitsガイドラインに沿って提出されたコミットメッセージを改善してください：

1. **動詞の統一**: "追加"、"修正"、"更新"、"削除"、"実装"、"改善"等を適切に選択
2. **対象の明確化**: 何を変更したかを具体的に記述
3. **目的の明確化**: なぜ変更したかが伝わる表現

### よくある改善パターン
- 曖昧 → 具体的: `feat: 機能追加` → `feat: ユーザーログイン機能を追加`
- 長すぎ → 簡潔: `feat: ユーザーがログインできるような機能を実装しました` → `feat: ユーザーログイン機能を実装`
- 技術詳細 → ユーザー観点: `feat: JWT認証ライブラリを導入` → `feat: セキュアなログイン機能を追加`

### コミットメッセージ例（Conventional Commits準拠）
- **feat:** `feat: ユーザー認証機能を追加` `feat: 検索結果にフィルター機能を実装`
- **fix:** `fix: ログイン処理のエラーを修正` `fix: 日付表示の時差問題を解決`
- **refactor:** `refactor: ユーザー管理ロジックを整理` `refactor: 共通コンポーネントを別ファイルに分離`
- **chore:** `chore: パッケージ依存関係を更新` `chore: 不要になったテストファイルを削除`
- **docs:** `docs: API仕様書を更新` `docs: README.mdにインストール手順を追加`
- **test:** `test: ユーザー認証のテストケースを追加` `test: 単体テストのモックを修正`
- **perf:** `perf: データベースクエリを最適化` `perf: 画像読み込み速度を改善`
- **style:** `style: ESLintルールに従ってコードを整形` `style: インデントを統一`

### 削除関連の具体例
- **chore:** `chore: 未使用コンポーネントを削除` `chore: 開発用の仮ページを削除`
- **feat!:** `feat!: 非推奨APIを削除` （破壊的変更の場合）
- **refactor:** `refactor: 重複コードを削除して統合`

## 評価時の確認事項

コミットメッセージを生成した後、以下のチェックリストを用いて、生成されたメッセージが適切であるかを確認してください。もし不適切な点があれば、修正してください。

### チェックリスト:
- 生成されたコミットメッセージの`type`（feat, fix, docsなど）は、変更内容の性質に合致しているか？
- コミットメッセージのタイトルは、簡潔かつ変更の意図を明確に表現しているか？
- 詳細説明（body）は、変更内容を具体的に、かつ箇条書きで記述しているか？
- 変更の意図や背景が、第三者にも明確に伝わる内容になっているか？
- Conventional Commitsガイドラインの「重要な判定ポイント」に照らして、特にファイル削除や機能削除の`type`は適切か？
- プロジェクトの既存のコミットスタイル（言語、粒度など）を模倣しているか？

上記のチェックリストで問題がなければ、最終的なコミットメッセージを出力してください。問題がある場合は、修正を試みてください。

## 最終アクション

すべての評価、生成、自己修正が完了したら、最終的なコミットメッセージを以下のファイルに**直ちに出力してください。**

- **出力先ファイル**: [.gemini/outputs/commit-message-for-docs.md](../outputs/commit-message-for-docs.md)

**重要**:
- このタスクは、ファイルへの出力をもって**完全に完了**します。
- **コミットを実行したり、コミットを提案するような追加のアクションは一切行わないでください。**