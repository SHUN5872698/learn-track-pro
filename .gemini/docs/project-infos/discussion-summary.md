# これまでの議論の要点まとめ（最新版：2025年12月4日更新）

## 背景・経緯

### プロジェクトの概要

- **プロジェクト名**: LearnTrack Pro - プログラミング学習管理プラットフォーム
- **技術スタック**: Laravel 12 / Vue 3 (Composition API) / Pinia / MySQL 8.0
- **構成**: モノリシックSPA
- **現在の状態**: Phase 4（アプリケーションロジック理解）完了間近、GitHub Issue運用開始

### 目的・目標

- 転職活動用ポートフォリオとして公開
- 実装内容を面接で説明できるレベルまで理解を深める
- GitHub Issueによる課題管理の実践

### 主要な制約

- TypeScript不使用、Bootstrap/jQuery/Options API禁止
- 個人開発のため実装工数を最小限に
- デプロイ優先、完璧主義を避ける
- **予算制約**: 月1,000-3,000円（転職活動期間3-6ヶ月）
- **Git管理対象**: `laravel-docker/src/`のみ（インフラ設定は対象外）
- **転職活動タイムライン**: 2026年1月〜3月が書類選考・面接期間

---

## 完了・確定事項

### プロジェクトの現在地

- ✅ Phase 0-3: アプリケーション開発・VPS環境構築・SSL化完了
- ✅ Phase 4: アプリケーションロジック理解（理解度チェック、APIテスト環境整備完了）
- ✅ GitHub Issue導入: MCP接続、ワークフロー構築、課題7件登録完了

### 直近完了した実装（12/4）

1. ✅ GitHub MCP接続設定
2. ✅ Issue作成ワークフロー構築（[create-github-issue-prompt.md](http://create-github-issue-prompt.md)）
3. ✅ 脆弱性・技術的負債のIssue化（#1〜#7）
4. ✅ 手動テスト包括ドキュメント作成
5. ✅ ブランチ戦略ドキュメントにIssue連携手順追加

### 作成済みドキュメント

- 環境構築メモ①〜⑧、本番環境構築手順書
- アプリケーションロジック理解（全6機能）
- API設計（包括的ドキュメント）
- 手動テスト手順書（包括的ドキュメント）
- GitHub Issue作成ワークフロー（[create-github-issue-prompt.md](http://create-github-issue-prompt.md)）

---

## これまでの議論で確定した方針

### 1. GitHub Issue作成ワークフロー

**要点**: 課題概要と参照ファイルのみ指定、AIがテンプレート・ラベル・優先度を自動判断

**判断基準**: ユーザー負担を軽減しつつ、一貫性のあるIssue作成を実現

### 2. Issue自動判断の基準

**テンプレート**: バグ・脆弱性→bug_report、機能改善・リファクタリング→feature_request

**ラベル**: セキュリティ→bug,security、リファクタリング→refactoring、機能改善→enhancement

**優先度**: セキュリティ・データ整合性→high、コード品質→medium、保守性→low

### 3. IssueとコミットのPR連携

**要点**: コミットメッセージに`Fixes #N`でIssue自動クローズ

**判断基準**: トレーサビリティ確保とワークフロー効率化

詳細: ブランチ戦略ドキュメント参照

### 4. 課題管理の一元化

**要点**: 今後発見した課題はGitHub Issueに直接登録、機能拡張ロードマップには記載しない

**判断基準**: GitHub Issueを単一の情報源（Single Source of Truth）にする

### 5. 包括的ドキュメントの作成基準

**要点**: 詳細ドキュメントが3つ以上あるカテゴリに包括ドキュメントを作成

**判断基準**: ナビゲーション提供、詳細ドキュメントの独立性維持

### 6. ディレクトリ構成の一貫性

**要点**: `tests/manual/` に機能別手動テスト、`tests/` 直下に横断的テスト（エラーハンドリング等）

**判断基準**: カテゴリの性質に応じた配置、将来の拡張性確保

### 7. AI協業における責任と品質保証

**要点**: 最終的な責任はエンジニア自身が負う

**判断基準**: 実務では説明責任・予測可能性・再現性が必須

### 8. コメント記述基準

**Why重視**: 実装の理由や判断基準を優先的に記載、Whatは必要最小限

**過剰削除の防止**: AI協業での失敗経験から、重要なコメントを削除しない具体例を明示

---

## やってはいけないこと

1. SSHパスワード認証を有効化
2. rootで直接ログイン許可
3. socket activation有効でポート変更
4. fail2banなしでSSH開放
5. MySQLのDocker化
6. mainでローカル用設定をコミット
7. AI生成コードをレビューせず本番適用
8. 破壊的コマンドを承認なしで自動実行

---

## 技術選択と教訓

### 重要な技術選択の判断

1. **Xserver VPS選択**: AWS断念（コスト5倍） → 予算内実現最優先
2. **GitHub MCP導入**: Issue作成の自動化 → ワークフロー効率化
3. **ワークフローの軽量化**: 必須パラメータ最小化 → ユーザー負担軽減

### 重要な教訓

1. **Permission deniedは時限爆弾**: git clone時に予防的設定すべき
2. **AI協業の責任所在**: 自身が理解し最終責任を負う
3. **Issue化のスピード感**: ワークフロー導入で課題登録が大幅に効率化

---

## 次のアクション

### Phase 4残タスク: ドキュメント更新ワークフローの確立（優先度: 中）

**工数**: 0.5日

**作業内容**: [README.md](http://README.md)更新→docs全件チェック→個別更新のフロー導入

### Phase 5: ドキュメント整備（優先度: 中）

**工数**: 2-3日

**作業内容**: 各種ドキュメントの最終整備、Git同期

### GitHub Issue対応（優先度: 状況に応じて）

**作業内容**:

- #1, #2（脆弱性）: 対応済み
- #3〜#7（技術的負債・機能改善）: 余裕があれば対応

---

## 特記事項

### プロジェクト健全性

- **進捗**: 優良（Phase 4完了間近、GitHub Issue運用開始）
- **技術的負債**: 可視化済み（GitHub Issue #3〜#7に登録）
- **ドキュメント**: 優良（包括ドキュメント整備、ワークフロー確立）
- **セキュリティ**: 優良（脆弱性Issue #1, #2対応済み）

### GitHub Issue登録状況

| Issue # | タイトル | ラベル | 状況 |
| --- | --- | --- | --- |
| #1 | セクション一括更新の削除前チェック不足 | bug, security | 対応済み |
| #2 | 総学習時間計算の未来日付除外漏れ | bug | 対応済み |
| #3 | API Resourceクラス未使用の不整合 | refactoring | Open |
| #4 | Fat Controller問題 | refactoring | Open |
| #5 | 親ステータスとの不整合 | enhancement | Open |
| #6 | マジックナンバーの存在 | refactoring | Open |
| #7 | order一時退避ロジックのリスク | enhancement | Open |

### 現在の状態

**本番環境**: 完全稼働中

**次の焦点**: Phase 4残タスク完了 → Phase 5（ドキュメント整備）

---

**最終更新**: 2025年12月4日
