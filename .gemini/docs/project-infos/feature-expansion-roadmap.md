## 概要

APIファーストアプローチによるMVP完成後の追加機能拡張計画。
**最短の目的は数週間以内にAWSまたはAzureなどのクラウド環境にアプリケーションをデプロイすること。**
デプロイ可能な品質確保を最優先し、機能追加や最適化はデプロイ後に実施。

---

## Phase 0: デプロイ前の必須修正（MVP完成後 即着手）

### 0-1. APIエラーハンドリング・例外処理の実装（完了）

必須度: ★★★★★

理由: デプロイ後の致命的なエラーを防ぐ、ユーザー体験に直結

仕様概要:

- Axios interceptorでの共通エラーハンドリング実装
- ネットワークエラー、タイムアウト、5xx系エラーの捕捉
- データフェッチ失敗時の適切な表示（エラーメッセージ、リトライボタン）
- 各ページ・コンポーネントでのエラー状態管理
    - 学習内容一覧（Dashboard）
    - 学習内容詳細
    - 学習内容作成・編集
    - 学習記録作成・編集
    - 全体レポート
    - 個別レポート
    - セクション別学習記録一覧
- 削除処理のエラーハンドリング
    - 学習内容削除
    - 学習記録削除
    - 完了/再開処理

工数見積: 2.5-3日

### 0-2. Apidogテストケースの追加（完了）

必須度: ★★★★★

理由: デプロイ前のバグ検出、バリデーション網羅性向上

仕様概要:

- 境界値テスト（上限値）の追加
    - タイトル: 51文字（NG）
    - 概要: 501文字（NG）
    - メモ: 501文字（NG）
    - 学習時間: 1440分（NG）

工数見積: 0.5-1日

### 0-3. 環境変数による制御パターン検討（完了）

参考: [Console.logの扱い](https://www.notion.so/Console-log-28c9d86c12e88048b7aec5c82c364605?pvs=21)

~~必須度: ★★☆☆☆~~

~~理由: 開発効率とセキュリティのバランス改善~~

~~仕様概要:~~

- ~~console.log/console.errorを環境変数で制御~~
- ~~開発環境: ログ出力有効~~
- ~~本番環境: ログ自動削除またはloggerによる制御~~

**~~判断基準**: 時間がかかる場合は破棄、デプロイ優先~~

~~工数見積: 0.5-1日（検討時間含む）~~

✅ Viteのビルド時自動削除を採用

参考: [コンソールログの扱い](https://www.notion.so/f3f0252004a04008b70ca2cc876d4475?pvs=21) 

---

## Phase 1: UI/UXレイアウト改善（Phase 0完了後）

### 1-1. 削除確認モーダルの改善（実装断念）

必須度: ★★★★★ → 実装断念

理由: stash済みコードの早期マージ、ユーザー体験向上

**断念理由:**

- Vue TransitionGroupの技術的制約
    - ページネーション切替時と削除時のアニメーションを区別できない
    - 配列の変化（ページ切替・削除）を両方検知してアニメーションが発火
- 解決にはコンポーネント設計の根本変更が必要
    - Pagination.vueの責務拡大（ボタン表示のみ → ページネーション全体管理）
    - または新規コンポーネント作成（PaginatedList.vue等）
    - いずれも単一責任原則に反し、保守性が低下
- 影響範囲が広すぎる
    - Reports.vue、StudyProgress.vue、SectionStudyRecords.vue等、全てのページネーション使用箇所の修正が必要
    - 工数対効果が悪い
- デプロイ優先のため断念

**当初の仕様概要（未実装）:**

- stash済みVueアニメーション実装のマージ
- 削除対象の詳細情報表示改善
    - 全体レポート: 「学習内容名」「セクション名」を表示
    - 個別レポート: 「セクション名」を表示
- 削除対象の視覚的強調
- アニメーション適用

対象ファイル:

- resources/js/components/learning/DeleteRecordConfirmModal.vue
- resources/js/components/common/ConfirmModal.vue

工数見積: 0.5日 → 実装断念

### 1-2. textarea入力文字数表示（完了）

必須度: ★★★★☆

理由: ユーザビリティ向上、バリデーションエラー防止

仕様概要:

- `<textarea>`フォーム下部に現在の入力文字数を表示
- 500文字制限に対する進捗表示（例: 「123 / 500文字」）
- 制限超過時の視覚的フィードバック（色変更など）

対象ファイル:

- resources/js/components/learning/StudySessionFormFields.vue（メモ）
- resources/js/views/learning/LearningContentCreate.vue（概要）
- resources/js/views/learning/LearningContentEdit.vue（概要）

工数見積: 0.5日

---

## Phase 2: レスポンシブ対応（Phase 1完了後）

### 2-1. レスポンシブ対応（完了）

必須度: ★★★★★

理由: 現代のWebアプリケーションで必須、ポートフォリオとして不可欠

仕様概要:

- スマホ（640px以下）対応
- タブレット（768px-1024px）対応
- 主要画面のレスポンシブ化
    - ダッシュボード
    - 学習内容詳細
    - 学習記録作成・編集
    - レポート画面
- タッチ操作への最適化
- ハンバーガーメニューの実装
- ブレークポイント調整

工数見積: 2-3日

### 2-2. ページネーションの表示調整（完了）

必須度: ★★★★☆

理由: レスポンシブ対応で必須、モバイル表示の最適化

仕様概要:

- モバイル表示時の簡易化（ページ番号の省略）
- ページ番号の表示数調整（デスクトップ: 5個、モバイル: 3個）
- 前後ボタンの視認性向上

対象ファイル:

- resources/js/components/common/Pagination.vue

工数見積: 0.5日

### [2-3. tailwindスタイルのクリーンアップ](https://www.notion.so/tailwind-2909d86c12e880be8378d3c4b20d7b67?pvs=21)（完了）

必須度: ★★★★☆

理由: コード重複削減、デザイン統一、保守性向上

仕様概要:

- **@apply化対応**: `.auth-header`等の共通クラス追加
- **sm:プレフィックス対応**: `sm:` → `md:`への置き換えなど（Phase 2方針統一）
- **統計カードコンポーネント**: 不要なユーティリティクラス削除

対象ファイル:

- resources/css/app.css
- 各種Vueコンポーネント

工数見積: 1日

---

## Phase 3: デプロイ作業

### 3-1. クラウド環境へのデプロイ

必須度: ★★★★★

理由: 本番環境での動作確認、ポートフォリオとして公開

仕様概要:

- AWS/Azure環境構築
- データベース設定
- CI/CD設定（GitHub Actions等）
- 環境変数設定
- SSL証明書設定
- 本番環境でのテスト

工数見積: 別途見積もり

---

## Phase 4: デプロイ後の最適化（優先度低）

### 4-1. 統計計算ロジックのcomposable化

必須度: ★★★☆☆

理由: コードの保守性とテスタビリティの向上

仕様概要:

- 統計計算ロジックを独立したcomposableに分離
- 再利用可能な関数として整理
- ユニットテストの実装が容易に

工数見積: 1日

### 4-2. 進捗バーの共通コンポーネント化

必須度: ★★★☆☆

理由: UI統一性の確保とメンテナンス性向上

仕様概要:

- 共通プログレスバーコンポーネント作成
- カスタマイズ可能なprops設計
- 各画面での統一的な使用

工数見積: 0.5日

### 4-3. コンポーネント細分化

必須度: ★★☆☆☆

理由: 長期的な保守性向上

仕様概要:

- 大きなコンポーネントを機能単位で分割
- 責務の明確化
- 再利用性の向上

工数見積: 2日

### 4-4. セクション別学習時間チャート

必須度: ★★☆☆☆

理由: 学習進捗の詳細な可視化

仕様概要:

- セクションごとの学習時間表示
- Chart.jsでの棒グラフまたは積み上げグラフ
- 個別レポートページでの表示

工数見積: 1日

### 4-5. 時間入力コントロールの改善

必須度: ★★☆☆☆

理由: 入力体験の向上、直感的な操作

仕様概要:

- 時間入力で0のときに🔻ボタンを押すと23に変更
- 分入力で0のときに🔻ボタンを押すと59に変更
- 時間入力で23のときに🔺ボタンを押すと0に変更（循環）
- 分入力で59のときに🔺ボタンを押すと0に変更（循環）

対象ファイル:

- resources/js/components/common/TimeInputModal.vue

工数見積: 0.5日

---

## Phase 5: 機能拡張（デプロイ後、余裕があれば）

### 5-1. ストップウォッチ機能

必須度: ★★★☆☆

理由: 学習管理アプリとしての完成度向上、StudyPlusにない差別化機能

仕様概要:

- 開始・停止・リセット機能
- Page Visibility API対応（バックグラウンド動作）
- 計測完了時の学習記録自動保存
- タブ切り替え（手動入力 ↔ ストップウォッチ）

工数見積: フロント2日 + バック1日

### 5-2. 期間切り替え機能

必須度: ★★☆☆☆

理由: データ蓄積後の実用性向上

仕様概要:

- 1週間・1ヶ月・全期間の切り替え
- URLパラメータでの期間状態保持
- チャート描画の動的更新

工数見積: フロント1日 + バック1日

### 5-3. 学習履歴の詳細フィルタリング

必須度: ★★★☆☆

理由: データ蓄積後の検索・絞り込みは必須

仕様概要:

- 技術別、期間、調子評価でのフィルタ
- 検索機能（メモ内容での検索）
- ソート機能（時間、日付、評価）
- フィルタ条件の保存

工数見積: 3日

---

## 実装優先順位サマリー

### 📊 フェーズ別優先度

| フェーズ | 内容 | 必須度 | 実施時期 | 工数 |
| --- | --- | --- | --- | --- |
| Phase 0 | デプロイ前の必須修正 | ★★★★★ | MVP完成直後 | 3-4日 |
| Phase 1 | UI/UXレイアウト改善 | ★★★★★ | Phase 0完了後 | 2日 |
| Phase 2 | レスポンシブ対応 | ★★★★★ | Phase 1完了後 | 2-3日 |
| Phase 3 | デプロイ作業 | ★★★★★ | Phase 2完了後 | 別途 |
| Phase 4 | デプロイ後の最適化 | ★★☆☆☆ | デプロイ後 | 5日 |
| Phase 5 | 機能拡張 | ★★☆☆☆ | Phase 4後（余裕があれば） | 7日以上 |

### 🎯 デプロイまでのクリティカルパス

```
MVP完成
  ↓ 3-4日
Phase 0完了（エラーハンドリング + テスト）
  ↓ 2日
Phase 1完了（UI/UX改善）
  ↓ 2-3日
Phase 2完了（レスポンシブ対応）
  ↓
デプロイ可能な状態

```

**合計: 7-9日でデプロイ可能**

---
